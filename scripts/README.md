# Setup instructions
## Hardware Synthesis
+ Create an FGPU Vivado project and implement it with a customized performance-oriented strategy by executing
```sh
./implement.sh <design name, e.g. FGPU_8CUs_250MHz>
```
+ If partial reconfiguration support is required, use the FGPU V3 script
```sh
./implement_V3.sh
```
Please notice that multiple runs of the V3 script are required to generate all required partial bitstreams.

## LLVM Setup

By exeuting the script `download_and_compile_llvm.sh` you can automatically:
+ Download and extract LLVM and clang source files (v3.7.1) 
+ Add the FGPU backend files to LLVM 
+ Compile LLVM to generate the FGPU compiler

## Compile benchmarks as separate Xilinx SDK projects
+ Make sure that the script `set_paths.sh` refers to your Vivado installation path (location of the *settings64.sh* script)
+ Create and compile the needed hardware and bsp projects for Xilinx SDK by executing
```sh
./create_sdk_bsps.sh
```
+ Create the Xilinx SDK projects for all applications in the `benchmark` folder and compile them by executing
```sh
./create_sdk_project.sh
```
Alternatively you may create and compile a single project, e.g.

```sh
./create_sdk_project.sh <path to benchmark folder, e.g. ../benchmark/copy>
```

## Remarks
+ The directory `lscript` contains the linker scripts needed to set the Xilinx SDK projects properly
+ The directory `hdf` contains the hardware description files generated by Vivado.
They are required to generate the SDK hardware projects.
+ The `create_MicroBlaze_project.tcl` script generates the SDK project of a single performance-oriented MicroBlaze.
It is only included to evaluate FGPU against the MicroBlaze.
